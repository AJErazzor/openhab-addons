<?xml version="1.0" encoding="UTF-8"?>

<scr:component xmlns:scr="http://www.osgi.org/xmlns/scr/v1.1.0" activate="activate" deactivate="deactivate" name="org.openhab.binding.em.binding">
	<implementation class="org.openhab.binding.em.internal.EMBinding" />

	<service>
		<provide interface="org.osgi.service.event.EventHandler" />
		<provide interface="org.osgi.service.cm.ManagedService" />
	</service>

	<property name="event.topics" type="String" value="openhab/command/*" />
	<property name="service.pid" type="String" value="org.openhab.em" />

	<reference bind="setEventPublisher" cardinality="1..1"
		interface="org.openhab.core.events.EventPublisher" name="EventPublisher"
		policy="dynamic" unbind="unsetEventPublisher" />
	<reference bind="addBindingProvider" cardinality="1..n"
		interface="org.openhab.binding.em.EMBindingProvider" name="EMBindingProvider"
		policy="dynamic" unbind="removeBindingProvider" />
	
</scr:component>
